<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>0. Design</title>
        <link type="text/css" href="https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.css" rel="stylesheet">
        <link type="text/css" href="../dist/tui-image-editor.css" rel="stylesheet">
        <style>
            @import url(http://fonts.googleapis.com/css?family=Noto+Sans);
            html, body {
                height: 100%;
                margin: 0;
            }
        </style>
    </head>
    <body>

    <button onclick="test()"></button>

        <div id="tui-image-editor-container"></div>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.7/fabric.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui.code-snippet/v1.5.0/tui-code-snippet.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.js"></script>
        <script type="text/javascript" src="../dist/tui-image-editor.js"></script>
        <script>

         // Image editor
         var imageEditor = new tui.ImageEditor('#tui-image-editor-container', {
             includeUI: {
                 loadImage: {
                     path: 'img/sampleImage2.png',
                     name: 'SampleImage'
                 },
                 initMenu: 'filter',
                 menuBarPosition: 'bottom'
             },
             cssMaxWidth: 700,
             cssMaxHeight: 500
         });

         imageEditor.on('mousedown', function(event, originPointer) {
             console.log('mousedown'+event);
             console.log("X:"+originPointer.x+" Y:"+originPointer.y);
         });

         imageEditor.on('mouseup', function(event, originPointer) {
             console.log('mouseup：：：：：：'+event.id);
             //let x = event.width
            // let y = event.height
            // console.log("x:"+x+"  y:"+y);
             //debugger
         });

         imageEditor.on('objectScaled', function(props) {
             console.log(props);
             //console.log(props.type);
             // console.log("objectScaled::::id:::"+props.id)
         });

         let _fEvent = null

         imageEditor.on('objectMoved', function(fEvent) {
             // if(this._fEvent == null){
             //     imageEditor.fire('objectMoved', fEvent);
             //     this._fEvent = fEvent
             //     debugger
             // }
             // debugger
             this._fEvent = fEvent
             // console.log("move::::id:::"+this._fEvent.id)
             // if(fEvent.e.movementX == -1 && fEvent.e.movementY == -1){
             //     console.log(this._fEvent)
             // }
             //console.log(this._fEvent)

         });

         window.onresize = function() {
             imageEditor.ui.resizeEditor();
         }
        </script>
    </body>
</html>
